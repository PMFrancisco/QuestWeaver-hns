<h2>Index</h2>
<div class="wiki-sidebar">
  <form action="/gameInfo/addCategory" method="post">
    <input type="text" name="categoryName" placeholder="Category" required />
    <input type="hidden" name="gameId" value="{{gameId}}" />
    <input type="hidden" name="parentId" value="" />
    <button type="submit">Add category</button>
  </form>
  <ul class="categories-list">
    {{#each categories}}
      <li class="category-item">
        <div
          class="category-name"
          onclick="toggleSubcategories('subcategory-form-{{this.id}}', 'subcategory-list-{{this.id}}')"
        >
          {{this.name}}
        </div>
        <div id="subcategory-form-{{this.id}}" class="hidden">
          <form action="/gameInfo/addCategory" method="post">
            <input
              type="text"
              name="categoryName"
              placeholder="Subcategory Name"
              required
            />
            <input type="hidden" name="gameId" value="{{gameId}}" />
            <input type="hidden" name="parentId" value="{{this.id}}" />

            <button type="submit">Add Subcategory</button>
          </form>

        </div>

        <ul id="subcategory-list-{{this.id}}" class="subcategories hidden">
          {{#each this.children}}
            <li>{{this.name}}</li>
          {{/each}}
        </ul>
      </li>
    {{/each}}
  </ul>
</div>

<script src="../js/wiki.js"></script>